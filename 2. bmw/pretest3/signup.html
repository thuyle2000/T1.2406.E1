<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sign-up</title>
    <link rel="stylesheet" href="../css/form.css">
</head>

<body>
    <div>
        <form action="" onsubmit="fnCheck(event)">
            <h2>Student Information</h2>
            <hr>

            <div class="input">
                <label for="">name</label>
                <input type="text" name="name" id="name" required value="tuan anh">
            </div>
            <div class="input">
                <label for="">gender</label>
                <input type="radio" name="gender" id="rmale" value="male" checked> male
                <input type="radio" name="gender" id="rfemale" value="female"> female
            </div>
            <div class="input">
                <label for="">address</label>
                <input type="text" name="address" id="address" required value="590 CMT8 HCMC">
            </div>
            <div class="input">
                <label for="">email</label>
                <input type="email" name="email" id="email" required value="anh@gmail.com">
            </div>
            <div class="input">
                <label for="">phone</label>
                <input type="text" name="phone" id="phone" required value="123-123456"
                pattern="\d{3}-\d{5,8}">
            </div>
            <div class="input">
                <label for="">qualification</label>
                <select name="quali" id="quali">
                    <option>Bachelor degree</option>
                    <option>Master</option>
                    <option>PhD</option>
                    <option>None</option>
                </select>
            </div>

            <div class="input">
                <input type="submit" value="submit">
                <input type="reset" value="reset">
            </div>
        </form>
    </div>

    <script>
        const fnCheck = (event) => {
            event.preventDefault(); // vo hieu qua tinh nang chuyen trang action cua nut submit

            //kiem tra du lieu cua muc [name]
            const name = document.getElementById("name").value.trim();
            const re = /^[a-z ]{6,30}$/i;
            if (re.test(name) == false) {
                alert("Invalid name ! Plz retry !");
                document.getElementById("name").focus();
                return;
            }

            //kiem tra dia chi [email]
            const email = document.getElementById("email").value.trim();

            let pattern = /^[a-z0-9]{2,20}@([a-z0-9]{2,10}\.)+[a-z]{2,4}$/i;

            if (pattern.test(email)==false) {
                alert(" >> Invalid email. Plz re-enter ! ");
                document.getElementById("email").focus();
                return;
            }


            const phone = document.getElementById("phone").value;

            const quali = document.getElementById("quali").value;

            const address = document.getElementById("address").value.trim();

            const gender = document.getElementById("rmale").checked ? "male" : "female";


            const a = ["Student Information Successful Registration"];
            a.push(`Name: ${name}`);
            a.push(`Gender: ${gender}`);
            a.push(`Address: ${address}`);
            a.push(`Email: ${email}`);
            a.push(`Phone: ${phone}`);
            a.push(`Qualification: ${name}`);
            a.push("Click here to return Student Page !");

            alert(a.join("\n"));

            const b = ["<h2>Student Information Successful Registration</h2><hr/>"];
            b.push(`Name: ${name}`);
            b.push(`Gender: ${gender}`);
            b.push(`Address: ${address}`);
            b.push(`Email: ${email}`);
            b.push(`Phone: ${phone}`);
            b.push(`Qualification: ${name}`);
            b.push("Click here to return Student Page !");

            let newWin = window.open();
            newWin.document.write(b.join("<br>"));

            // alert("hihi"); //test events



        }

    </script>
</body>

</html>